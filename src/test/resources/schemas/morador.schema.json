{
  "$id": "https://fiap.fase4.com/schemas/morador.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Morador",
  "description": "Esquema JSON para representar um morador do condomínio. Possui CPF único, telefones, e-mail e apartamentos associados. Índice no banco: idx_morador_cpf (cpf).",
  "type": "object",
  "properties": {
    "id": {
      "description": "Identificador único do morador (UUID gerado automaticamente)",
      "type": ["string", "null"],
      "format": "uuid",
      "examples": ["3fa85f64-5717-4562-b3fc-2c963f66afa6"]
    },
    "cpf": {
      "description": "CPF do morador (11 dígitos numéricos, único)",
      "type": "string",
      "pattern": "^\\d{11}$",
      "minLength": 11,
      "maxLength": 11,
      "examples": ["12345678901"]
    },
    "nome": {
      "description": "Nome completo do morador",
      "type": "string",
      "minLength": 1,
      "maxLength": 100,
      "examples": ["Ana Costa"]
    },
    "telefone": {
      "description": "Lista de telefones do morador (10 a 15 dígitos, com DDD)",
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "string",
        "pattern": "^\\d{10,15}$",
        "minLength": 10,
        "maxLength": 15,
        "examples": ["11987654321", "1133332222"]
      }
    },
    "email": {
      "description": "E-mail do morador",
      "type": "string",
      "format": "email",
      "maxLength": 100,
      "examples": ["ana.costa@email.com"]
    },
    "apartamentoId": {
      "description": "Lista de IDs dos apartamentos associados ao morador",
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "string",
        "format": "uuid",
        "examples": ["a1b2c3d4-e5f6-7890-g1h2-i3j4k5l6m7n8"]
      }
    }
  },
  "required": [
    "cpf",
    "nome",
    "telefone",
    "email",
    "apartamentoId"
  ],
  "additionalProperties": false,
  "examples": [
    {
      "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
      "cpf": "12345678901",
      "nome": "Ana Costa",
      "telefone": ["11987654321", "1133332222"],
      "email": "ana.costa@email.com",
      "apartamentoId": [
        "a1b2c3d4-e5f6-7890-g1h2-i3j4k5l6m7n8",
        "b2c3d4e5-f6g7-8901-h2i3-j4k5l6m7n8o9"
      ]
    }
  ],
  "$comment": "Índice no banco: idx_morador_cpf (cpf). Tabelas auxiliares: morador_telefones, morador_apartamentos."
}